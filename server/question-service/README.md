Question Service

Some mongosh commands:

show tables
use QuestionServiceDB

> db.createCollection("questionmodels")
> db.questionmodels.find()

### DOCKER FILE

- we use node 20 alpine
- expose 3002
- npm start command

### DOCKER COMPOSE

This section defines the services that make up the app. Services are similar to containers in Docker.

```
services:
    mongo_db:
        image: mongo:latest
        container_name: question_service_database
        restart: always
        volumes:
            - mongo_db:/data/db
```

we define a service named mongo_db. It uses the latest version of the mongo image from Docker Hub. The container_name is the name given to the container when it is run. The volumes line mounts the named volume mongo_db at /data/db in the container.

```
question_service:
    build: .
    container_name: question_service
    restart: always
    ports:
        - 3002:3002
    env_file:
        - .env
    environment:
        ENV: DOCKER
    depends_on:
        - mongo_db
```

This section defines a service named question_service. It builds the Docker image using the Dockerfile in the current directory. The container_name is the name given to the container when it is run. The restart: always policy means the container will always restart if it stops. The ports line maps port 3002 in the container to port 3002 on the host. The env_file line specifies a file from which to read environment variables. The environment line sets additional environment variables. The depends_on line indicates that this service depends on the mongo_db service.

```
volumes:
  mongo_db: {}
```

This section defines a named volume mongo_db. Named volumes are a way to persist data generated by and used by Docker containers.

Command to bring up the service:
`docker compose up`

Bring down the service:
`ctrl-d`
`docker compose down`
